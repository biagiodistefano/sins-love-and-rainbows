<html>

<head>
    <title>{{ party.name }}</title>
    <!-- Include custom CSS or JavaScript if needed -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- Include additional JavaScript libraries if needed -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="{{ party.name }}">
    <meta property="og:description" content="{{ party.date_and_time|date:'l, M d @ H:i' }}">
    {% load static %}
    <meta property="og:image" content="{% static 'slr/slr.png' %}"> <!-- Replace with your image URL -->
</head>
<body>

<div class="container">
    <div class="row" style="margin-top:10em;">
        <!-- Party Logo/Image -->
        <div class="col-md-6 mx-auto">
            <div class="d-flex justify-content-center align-items-center">
                {% load static %}
                <img src="{% static 'slr/slr_circle.png' %}" alt="{{ party.name }}" class="img-fluid rounded-circle"
                     style="max-width: 200px;">
            </div>

            <!-- Party Name -->
            <h2 class="text-center mt-3">{{ party.name }}</h2>
            <h3 class="text-center">{{ party.date_and_time|date:"l, M d @ H:i" }}</h3>
        </div>
    </div>

    <!-- Invite Counts -->
    <div class="row">
        <div class="col-md-6 mx-auto">
            <div class="text-center mt-3">
                <table class="table">
                    <thead>
                    <tr>
                        <th scope="col">People coming</th>
                        <th scope="col">Yes</th>
                        <th scope="col">Maybe</th>
                        <th scope="col">No</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td><strong>Total:</strong></td>
                        <td>{{ party.yes_count }}</td>
                        <td>{{ party.maybe_count }}</td>
                        <td>{{ party.no_count }}</td>
                    </tr>
                    {% if party.from_abroad_count > 0 %}
                        <tr>
                            <td><strong>Coming from Abroad:</strong></td>
                            <td colspan="3">{{ party.from_abroad_count }}</td>
                        </tr>
                    {% endif %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    {% if user.is_staff %}
    <div class="row">
        <div class="col-md-6 mx-auto">
            <div class="text-center mt-3">

                <table class="table">
                    <thead>
                    <tr>
                        <th>Yes</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for invite in party.yes_people %}
                        <tr>
                            <td>{{ invite.person.name }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>

                <table class="table">
                    <thead>
                    <tr>
                        <th>Maybe</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for invite in party.maybe_people %}
                        <tr>
                            <td>{{ invite.person.name }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>

                <table class="table">
                    <thead>
                    <tr>
                        <th>No</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for invite in party.no_people %}
                        <tr>
                            <td>{{ invite.person.name }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>

            </div>
        </div>
    </div>
    {% endif %}
    <!-- External Links -->
    {% if party.externallink_set.count > 0 %}
        <div class="mt-4">
            <h4>Useful Links:</h4>
            <ul>
                {% for link in party.externallink_set.all %}
                    <li><a href="{{ link.url }}" target="_blank">{{ link.name }}</a>
                        {% if link.description %}
                            - {{ link.description }}
                        {% endif %}
                    </li>
                {% empty %}
                    <li>No external links available.</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
</div>

</body>
</html>